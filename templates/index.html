<!DOCTYPE html>
<html>
<head>
    <title>èµ„æºä¸‹è½½ç«™</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .item-list { list-style: none; padding: 0; }
        .item { margin: 10px 0; padding: 10px; border: 1px solid #ddd; }
        .folder { background-color: #f0f8ff; }
        .file { background-color: #fff; }
        .pagination { margin-top: 20px; }
        .pagination a { margin: 0 5px; text-decoration: none; }
        button.delete { color: red; margin-left: 20px; }
    </style>
</head>
<body>
    <h1>èµ„æºåˆ—è¡¨</h1>
    <ul class="item-list">
        {% for item in items %}
        <li class="item {% if item.is_dir %}folder{% else %}file{% endif %}">
            {% if item.is_dir %}
                ğŸ“ <a href="{{ item.url }}">{{ item.name }}</a> (æ–‡ä»¶å¤¹)
            {% else %}
                ğŸ“„ <a href="{{ item.url }}">{{ item.name }}</a> 
                <span>({{ (item.size / 1024) | round(2) }} KB)</span>
                <span style="color: #666; margin-left: 20px;">ä¸Šä¼ æ—¶é—´ï¼š{{ item.upload_time }}</span>
            {% endif %}
            <form method="post" action="/delete/{{ item.name }}" style="display: inline;">
                <button type="submit" class="delete" onclick="return confirm('ç¡®è®¤åˆ é™¤ï¼Ÿ')">åˆ é™¤</button>
            </form>
        </li>
        {% endfor %}
    </ul>
    
    <div class="pagination">
        {% if page > 1 %}
            <a href="?page={{ page - 1 }}">ä¸Šä¸€é¡µ</a>
        {% endif %}
        <span>ç¬¬ {{ page }} é¡µ / å…± {{ total_pages }} é¡µ</span>
        {% if page < total_pages %}
            <a href="?page={{ page + 1 }}">ä¸‹ä¸€é¡µ</a>
        {% endif %}
    </div>
    
    <p><a href="/upload">ç®¡ç†å‘˜ä¸Šä¼ </a></p>
</body>
</html>